<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario de Registro</title>
    <link rel="stylesheet" href="css/registerStyles.css">
</head>

<body>
    <div class="register-container">
        <h2>REGISTRO DE DATOS</h2>
        <form id="register-form" method="post">

            <div class="form-group">
                <label for="nombre">Nombre</label>
                <input type="text" id="nombre" name="nombre" placeholder="Nombre" pattern="[a-zA-ZáéíóúüÁÉÍÓÚÜñÑ\s]{3,30}" title="Ingrese un nombre válido en español con una longitud de 3 a 30 caracteres" required>
            </div>

            <div class="form-group">
                <label for="apellido">Apellidos</label>
                <input type="text" id="apellido" name="apellido" placeholder="Apellidos" pattern="[a-zA-ZáéíóúüÁÉÍÓÚÜñÑ\s]{3,30}" title="Ingrese apellidos válidos en español con una longitud de 3 a 30 caracteres" required>
            </div>

            <div class="form-group">
                <label for="correo">Correo</label>
                <input type="email" id="correo" name="correo" placeholder="Correo electrónico" pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}" title="Ingrese un correo electrónico válido: ejemplo@correo.com" required>
            </div>

            <div class="form-group">
                <label for="documento">Tipo de Documento</label>
                <select id="documento" name="documento" required>
                    <option value="" disabled selected>Selecciona tu documento</option>
                    <option value="RUC">RUC</option>
                    <option value="CI">CI</option>
                </select>
            </div>

            <div class="form-group">
                <label for="numero-documento">Número de Documento</label>
                <input type="text" id="numero-documento" name="numero-documento" placeholder="Número de documento" required>
            </div>

            <div class="form-group">
                <label for="telefono">Teléfono</label>
                <input type="tel" id="telefono" name="telefono" pattern="\d{10}" placeholder="Teléfono (10 dígitos)" title="Ingrese un número de teléfono válido de 10 dígitos" required>
            </div>

            <div class="form-group">
                <label for="provincia">Provincia</label>
                <input type="text" id="provincia" name="provincia" placeholder="Provincia" required>
            </div>

            <div class="form-group">
                <label for="ciudad">Ciudad</label>
                <input type="text" id="ciudad" name="ciudad" placeholder="Ciudad" required>
            </div>

            <div class="form-group">
                <label for="password">Contraseña</label>
                <input type="password" name="password" id="password" placeholder="Contraseña" minlength="8" title="Mínimo 8 caracteres" required>
            </div>

            <div class="form-group">
                <label for="confirm-password">Confirmar Contraseña</label>
                <input type="password" name="confirm-password" id="confirm-password" placeholder="Confirmar Contraseña" minlength="8" required>
            </div>

            <div class="form-group">
                <label for="genero">Género</label>
                <select id="genero" name="genero" required>
                    <option value="" disabled selected>Selecciona tu género</option>
                    <option value="masculino">Masculino</option>
                    <option value="femenino">Femenino</option>
                    <option value="otro">Otro</option>
                </select>
            </div>

            <div class="map-container">
                <button onclick="maps()">Dirección</button>
                <div id="map"></div>
                <input type="text" id="address" placeholder="Dirección">
                <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCdmG7Gq1NWeKFF-sKLcrcemIGGOTiCa58"></script>
            </div>

            <div class="form-group">
                <label><input type="checkbox" name="terminos" required>Acepto términos y condiciones</label>
            </div>

            <div class="form-option">
                <button type="submit" class="btn-registro">Registrarse</button>
                <button type="button" class="btn-login" onclick="goBack()">Atrás</button>
            </div>

        </form>
    </div>

    <script>
        function goBack() {
            window.location.href= 'login.html';
        }

        document.getElementById('register-form').addEventListener('submit', function (e) {
            e.preventDefault();

            // Recolectar datos del formulario
            const nombre = document.getElementById('nombre').value;
            const apellido = document.getElementById('apellido').value;
            const correo = document.getElementById('correo').value;
            const contraseña = document.getElementById('password').value; // Captura la contraseña correctamente

            // Crear objeto con los datos del usuario
            const userData = {
                nombre: nombre,
                apellido: apellido,
                correo: correo,
                contraseña: contraseña // Agrega la contraseña al objeto userData
            };

            // Guardar los datos del usuario en localStorage
            localStorage.setItem('userData', JSON.stringify(userData));

            // Redirigir a la página de información de registro
            window.location.href = 'registrar_info.html';
        });
    </script>

    <script src="js/funciones.js"></script>

</body>

</html>
